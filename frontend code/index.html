<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous"/>

</head>
<body>
    <h2 class="text-center text-primary">file upload to backend</h2>
    <div class="container w-50 mt-3 m-auto row">
        <input type="file"  class="form-control col" id="avatar">   
        <button onclick ="uploadfile()" class="btn btn-primary col-2">upload</button>
    </div>

    <script>
        let avatar = document.getElementById("avatar") //let attachments = document.getelementbyid("attachments")
        function uploadfile(){
          const file = avatar.files[0];         //const files = attachments.files
          if(file){                             //if(files.length>0){
            const formData = new FormData();        //const formData = new FormData();
            formData.append('avatar',file);         //for(i=0,i<files,length;i++){
                                                    //formData.append("file",files[i]); 
            fetch("http://localhost:3000/uploads",{  //}
                method:'POST',
                body:formData
            }).then(
                (res)=>{
                    console.log(res)
                }
            )
            .catch(
                (err)=>{
                    console.log(err)
                }
            )
          }
        }
    </script>
</body>
</html>